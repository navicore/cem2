# Test list-map with higher-order functions

: double ( Int -- Int )
  2 * ;

: main ( -- )
  # Create list [1, 2, 3]
  Nil
  3 swap Cons
  2 swap Cons
  1 swap Cons

  # Map double over it -> [2, 4, 6]
  [ double ] list-map

  # Print the results
  dup list-head int-to-string write_line  # Should print 2
  list-tail dup list-head int-to-string write_line  # Should print 4
  list-tail list-head int-to-string write_line  # Should print 6
;
